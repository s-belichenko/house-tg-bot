# История изменений

Формат этого файла соответствует рекомендациям [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/).
Проект использует [семантическое версионирование](http://semver.org/spec/v2.0.0.html).

# Не выпущено

# 1.20.0 – 24.10.2025

- Исправлен баг с репортом.
- Рефакторинг за счет повышения версии линтеров.
- Бот стал уточнять, в каком чате произошло нарушение.

# 1.19.0 – 23.10.2025

- Исправлен баг с отключением команды `/keys`, который остался в посреднике.
- Добавлено журналирование конфигураций пакетов.

# 1.18.1 – 23.10.2025

- Исправлен баг с отключением команды `/keys`.

# 1.18.0 – 23.10.2025

- Устранены ошибки и недочеты с командой команды `/report`. 
- Автоудаление сообщений с командой `/rules` в общем чате.
- Отключение команды `/keys` после сдачи дома.

# 1.17.3 – 22.10.2025

- Включена обработка медиа после добавления посредника для фильтрации обработки медиа.

# 1.17.2 – 22.10.2025

- Отключена обработка медиа, которая попадала в основной чат.

# 1.17.1 – 22.10.2025

- Починена отправка сообщений в Yandex LLM.

# 1.17.0 – 22.10.2025

- Отбой принятия медиа-файлов.

# 1.16.0 – 22.10.2025

- Добавлена кастомизация имени и никнейма бота, адреса дома и правил вступления в чат.
- Создан пакет для шаблонизации длинных текстов.
- Начат переход на raw-строки.
- Прочие улучшения.

# 1.15.0 – 22.06.2025

- Более внятная обработка жалобы на нарушение правил.
- Отказ от Yandex Lockbox для сокращения бюджета бота в облаке.

# 1.14.2 – 06.06.2025

- Команда с правилами стала обращаться к участнику чата персонально.
- Обновлен README.md.

# 1.14.1 – 06.06.2025

- Исправлен баг посредника для общих команд.

# 1.14.0 – 06.06.2025

- Команда /help стала еще лучше.
- Новая команда `/rules` для просмотра правил чата.

## 1.13.2 – 04.06.2025

- Верные сообщения об ошибках обработки заявки на вступление.
- Более понятный текст в команде `/help`.

## 1.13.1 – 04.06.2025

- Больше русского языка, ссылка на чат из помощи в директе.

## 1.13.0 – 04.06.2025

- Более внятный текст приглашения к верификации от бота.

## 1.12.0 – 07.04.2025

- Бот отвязался от конкретного чата дома.
- Изменение лицензии с GNU GPLv3 на GNU AGPLv3.
- Добавлен README.md.
- Рефакторинг для разделения на слои в будущих версиях.
- Пакет logger переехал в pkg.
- Добавлен пакет time в pkg.
- Внедрены линтеры.
- Добавлены тесты.
- Прочие улучшения.

## 1.11.0 – 26.03.2025

- Упрощение логики в административных командах.
- Для обхода проблемы с `username` по `user_id` команда домашнего чата `/report` доступна и им.
- Административные команды забыли работать с username.

## 1.9.0 – 26.03.2025

- Добавлена служебная команда `/delete_commands`.

## 1.8.0 – 26.03.2025

- Пакет logger получил интерфейс Logger.
- Команды `/restrict` и `/remove_restrict` переименованы в `/mute` и `/unmute` соответственно.
- Добавлен совет использовать команды для личной переписки там же.
- Прочие улучшения и мелкие исправления.

## 1.7.5 – 25.03.2025

- Баг с установкой команд, откат на старую логику.

## 1.7.4 – 25.03.2025

- Забыта команда `/remove_restrict` в `/help_admin`.

## 1.7.3 – 25.03.2025

- Стали писать в журнал когда не определили username и user_id.

## 1.7.2 – 25.03.2025

- Устранен баг с логикой получения username для административных команд (так как теперь они без @).

## 1.7.1 – 25.03.2025

- Устранен баг с логикой получения username для административных команд.

## 1.7.0 – 25.03.2025

- Поправлен баг с областью действия команд.
- Сообщения в админском чате получили теги для удобного поиска
- Реализована работа команд `/ban`, `/unban` `/kick`.
- Удалена старая логика безопасности бота.

## 1.6.0 – 24.03.2025

- Появилась обработка заявок на вступление.
- В случае жалобы через `/report` на самого бота теперь он еще и упомянет пользователя.
- В случае использования `/keys` вне домика бота теперь он еще упомянет пользователя.

## 1.5.0 – 24.03.2025

- Добавлена команда `/report`.
- Переработана схема ограничений безопасности.
- Сделаны заготовки для административных команд.
- Прочие улучшения.

## 1.4.0 – 22.03.2025

- Пакет middleware устранен, вместо него появился пакет security.
- Пакет logger получил более сильную типизацию контекста.
- Пакет llm стал более связным, также добавлены два метода: `GetCantSpeakPhrase` и `GetTeaser`.
- Команда `/keys` научилась отвечать в случае если ее использование запрещено.
- Восстановлена работа команды `/test`.
- Модуль handlers получил файл `helpers.go`.

## 1.3.0 – 20.03.2025

- Бот научился в домашнюю тему в основном чате.
- Исправлены баги.
- Добавлены тесты.

## 0.2.2 – 19.01.2025

- Донастройка промпта для ответов про ключи.

## 0.2.1 – 19.01.2025

- Донастройка промпта для ответов про ключи.

## 0.2.0 – 19.01.2025

- Добавлено журналирование в формате YC.
- Добавлены middleware пропуска ответов на комментарии и журналирования.
- Обновлены зависимости.
- Донастройка LLM.
- Прочие мелкие улучшения.

## 0.1.0 – 18.01.2025

- Первая работоспособная версия бота.
- Добавлена команда `/keys`.
- Другие улучшения.
